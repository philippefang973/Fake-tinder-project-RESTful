<template>
  <main class="upload">
    <label>上传到本地<input type="file" @change="upload($event, 'upload')"></label>
    <label>上传到Pasteboard<input type="file" @change="upload($event, 'upload2pasteboard')"></label>
    <img :src="preview">
  </main>
</template>

<script>

export default {
  data() {
    return {
      preview: null
    }
  },
  methods: {
    upload(e, target) {
      this.$http({
        url: '/' + target,
        data: {
          file: e.target.files[0]
        },
        method: 'post',
        formdata: true
      }, (err, result) => {
        if (!err) {
          this.preview = result.url
        }
      })
    }
  }
}

</script>

<style lang="stylus">

.upload
  padding 0.2rem
  label
    font-size 0.32rem
    display block
  input
    positon absolute
    opacity 0


</style>