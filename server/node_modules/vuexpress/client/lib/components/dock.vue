<template>
  <transition name="dock-slide">
    <nav v-if="dock.length" v-show="dockVisible" class="dock">
      <router-link v-for="item in dock" :key="item.label" :to="item.path" tag="div" :class="{
      'dock-item': true,
      'dock-item-active': item.path === path
      }" replace>
        <i :data-icon="item.icon" :class="'dock-item-icon-' + item.icon"></i>
        <p>{{item.label}}</p>
      </router-link>
    </nav>
  </transition>
</template>

<script>

export default {

  props: {
    dock: {
      type: Array,
      default: () => []
    },
    path: {
      type: String
    }
  },
  data() {
    return {
      dockPaths: {}
    }
  },
  created() {
    this.dock.forEach(item => this.dockPaths[item.path] = true)
  },
  computed: {
    dockVisible() {
      return this.dockPaths[this.path]
    }
  },
  methods: {
    isDockPath(path) {
      return this.dockPaths[path]
    }
  }
}

</script>

<style lang="stylus">

  .dock
    height 1.2rem
    text-align center
    display flex
    justify-content space-around
    align-items center
    div
      flex 1

  .dock-slide-enter-active,
  .dock-slide-leave-active
    transition transform 0.5s
    position absolute
    width 100%
    bottom 0

  .dock-slide-enter,
  .dock-slide-leave-to
    transform translate3d(0, 100%, 0)

</style>
